@page "/users"
@using BlazorWASMOnionMessenger.Domain.DTOs.User;
@using Microsoft.AspNetCore.Authorization;
@attribute [Authorize]


<h3>Users</h3>
<RadzenRow>
    <RadzenColumn Size="8">
        <RadzenTextBox Placeholder="Search..." @bind-Value="Search" class="w-15" />
        <RadzenButton Click="Navigate" Text="Search" ButtonStyle="ButtonStyle.Info" />
    </RadzenColumn>
    <RadzenColumn Size="4">
        <RadzenLabel Text="Desc" Component="CheckBox1" Style="margin-right: 8px; vertical-align: middle;" />
        <RadzenCheckBox @bind-Value=OrderType Name="CheckBox1" TValue="bool" Change="OnCheckBoxChange" />
        <RadzenDropDown @bind-Value=OrderBy Data=orderProps class="mt-2" Style="width: 100%; max-width: 400px;" Change="Navigate" />
    </RadzenColumn>
</RadzenRow>

<RadzenDataGrid TItem="UserDto" Data="users" IsLoading="isLoading">
    <Columns>
        <RadzenDataGridColumn TItem="UserDto" Property="Id" Title="ID" />
        <RadzenDataGridColumn TItem="UserDto" Property="UserName" Title="Username" />
        <RadzenDataGridColumn TItem="UserDto" Property="FirstName" Title="First Name" />
        <RadzenDataGridColumn TItem="UserDto" Property="LastName" Title="Last Name" />
        <RadzenDataGridColumn TItem="UserDto" Property="PhoneNumber" Title="Phone Number" />
    </Columns>
</RadzenDataGrid>
<RadzenRow>
    <RadzenColumn Size="10">
        <RadzenPager Count="TotalUsers" PageSize="PageSize" PageNumbersCount="5" PageChanged="OnPageChange" />
    </RadzenColumn>
    <RadzenColumn Size="2">
        <RadzenDropDown @bind-Value=PageSize Data=pageSizeOptions class="mt-2" Style="width: 100%; max-width: 400px;" Change="Navigate" />
    </RadzenColumn>
</RadzenRow>
